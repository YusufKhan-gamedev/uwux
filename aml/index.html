<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`aml` is a pure-Rust AML (ACPI Machine Language) parser, used for parsing the DSDT and SSDT tables from ACPI. This crate can be used by kernels to gather information about the hardware, and invoke control methods (this is not yet supported) to query and change the state of devices in a hardware-independent way."><meta name="keywords" content="rust, rustlang, rust-lang, aml"><title>aml - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../aml/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../aml/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate aml</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.15.0</li><li><a id="all-types" href="all.html">All Items</a></li></div></ul><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li></ul></div><div id="sidebar-vars" data-name="aml" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../aml/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">aml</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/aml/lib.rs.html#1-804">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><code>aml</code> is a pure-Rust AML (ACPI Machine Language) parser, used for parsing the DSDT and
SSDT tables from ACPI. This crate can be used by kernels to gather information about the
hardware, and invoke control methods (this is not yet supported) to query and change the state
of devices in a hardware-independent way.</p>
<h4 id="using-the-library" class="section-header"><a href="#using-the-library">Using the library</a></h4>
<p>To use the library, you will mostly interact with the <code>AmlContext</code> type. You should create an
instance of this type using <code>AmlContext::new()</code>, and then pass it tables containing AML
(probably from the <code>acpi</code> crate), which you’ve mapped into the virtual address space. This will
parse the table, populating the namespace with objects encoded by the AML. After this, you may
unmap the memory the table was mapped into - all the information needed will be extracted and
allocated on the heap.</p>
<p>You can then access specific objects by name like so: e.g.</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">let</span> <span class="ident">my_aml_value</span> <span class="op">=</span> <span class="ident">aml_context</span>.<span class="ident">lookup</span>(<span class="kw-2">&amp;</span><span class="ident">AmlName::from_str</span>(<span class="string">&quot;\\_SB.PCI0.S08._ADR&quot;</span>).<span class="ident">unwrap</span>());</code></pre></div>
<h4 id="about-the-parser" class="section-header"><a href="#about-the-parser">About the parser</a></h4>
<p>The parser is written using a set of custom parser combinators - the code can be confusing on
first reading, but provides an extensible and type-safe way to write parsers. For an easy
introduction to parser combinators and the foundations used for this library, I suggest reading
<a href="https://bodil.lol/parser-combinators/">Bodil’s fantastic blog post</a>.</p>
<p>The actual combinators can be found in <code>parser.rs</code>. Various tricks are used to provide a nice
API and work around limitations in the type system, such as the concrete types like
<code>MapWithContext</code>, and the <code>make_parser_concrete</code> hack macro.</p>
<p>The actual parsers are then grouped into categories based loosely on the AML grammar sections in
the ACPI spec. Most are written in terms of combinators, but some have to be written in a more
imperitive style, either because they’re clearer, or because we haven’t yet found good
combinator patterns to express the parse.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use crate::value::<a class="enum" href="value/enum.AmlValue.html" title="enum aml::value::AmlValue">AmlValue</a>;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="pci_routing/index.html" title="aml::pci_routing mod">pci_routing</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="resource/index.html" title="aml::resource mod">resource</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="value/index.html" title="aml::value mod">value</a></div><div class="item-right docblock-short"></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AmlContext.html" title="aml::AmlContext struct">AmlContext</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AmlHandle.html" title="aml::AmlHandle struct">AmlHandle</a></div><div class="item-right docblock-short"><p>A handle is used to refer to an AML value without actually borrowing it until you need to
access it (this makes borrowing situation much easier as you only have to consider who’s
borrowing the namespace). They can also be cached to avoid expensive namespace lookups.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AmlName.html" title="aml::AmlName struct">AmlName</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Namespace.html" title="aml::Namespace struct">Namespace</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NamespaceLevel.html" title="aml::NamespaceLevel struct">NamespaceLevel</a></div><div class="item-right docblock-short"></div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AmlError.html" title="aml::AmlError enum">AmlError</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DebugVerbosity.html" title="aml::DebugVerbosity enum">DebugVerbosity</a></div><div class="item-right docblock-short"><p>Describes how much debug information the parser should emit. Set the “maximum” expected verbosity in
the context’s <code>debug_verbosity</code> - everything will be printed that is less or equal in ‘verbosity’.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.LevelType.html" title="aml::LevelType enum">LevelType</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.NameComponent.html" title="aml::NameComponent enum">NameComponent</a></div><div class="item-right docblock-short"></div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.AML_INTERPRETER_REVISION.html" title="aml::AML_INTERPRETER_REVISION constant">AML_INTERPRETER_REVISION</a></div><div class="item-right docblock-short"><p>AML has a <code>RevisionOp</code> operator that returns the “AML interpreter revision”. It’s not clear
what this is actually used for, but this is ours.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Handler.html" title="aml::Handler trait">Handler</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="aml" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (4e8fb743c 2022-02-03)" ></div>
</body></html>